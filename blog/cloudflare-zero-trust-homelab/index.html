<!DOCTYPE html><html lang="en" style="--line-color: #FFF;"><head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/png" href="/personalLogo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protecting Homelab Apps with Cloudflare Zero Trust Access | Samrat Jha</title>
    <meta name="description" content="Samrat Jha is an AI engineer at NVIDIA, backed by 7+ years architecting large-scale distributed systems at AWS. Explore my portfolio, technical blog, and infrastructure projects.">
    <meta name="keywords" content="Samrat Jha, AI Engineer, AWS, Generative AI, Machine Learning, Infrastructure Architect, Distributed Systems, Cloud Architecture, Large-Scale Systems, Portfolio">
    <meta name="author" content="Samrat Jha">
    <meta name="robots" content="index, follow">

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://umami.techbrohomelab.xyz" crossorigin="">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://www.samratjha.com/">

    <!-- LLMs.txt for AI agents -->
    <link rel="llms-txt" href="/llms.txt">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.samratjha.com/">
    <meta property="og:site_name" content="Samrat Jha Portfolio">
    <meta property="og:title" content="Samrat Jha | AI Engineer &amp; Infrastructure Architect">
    <meta property="og:description" content="AI engineer at NVIDIA, backed by 7+ years architecting large-scale distributed systems at AWS. Explore my portfolio and technical blog.">
    <meta property="og:image" content="https://www.samratjha.com/personalLogo.png">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://www.samratjha.com/">
    <meta name="twitter:title" content="Samrat Jha | AI Engineer &amp; Infrastructure Architect">
    <meta name="twitter:description" content="AI engineer at NVIDIA, backed by 7+ years architecting large-scale systems at AWS. Portfolio &amp; technical blog.">
    <meta name="twitter:image" content="https://www.samratjha.com/personalLogo.png">

    <!-- Schema.org structured data -->
    <script type="text/javascript" id="www-widgetapi-script" src="https://www.youtube.com/s/player/1798f86c/www-widgetapi.vflset/www-widgetapi.js" async=""></script><script type="text/javascript" id="www-widgetapi-script" src="https://www.youtube.com/s/player/1798f86c/www-widgetapi.vflset/www-widgetapi.js" async=""></script><script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Samrat Jha",
        "url": "https://www.samratjha.com/",
        "image": "https://www.samratjha.com/personalLogo.png",
        "jobTitle": "Senior AI Engineer",
        "worksFor": {
          "@type": "Organization",
          "name": "NVIDIA"
        },
        "description": "AI engineer at NVIDIA with 7+ years of experience architecting large-scale distributed systems at AWS. Expert in cloud infrastructure, Generative AI, and building systems at scale.",
        "sameAs": ["https://github.com/samratjha96"],
        "knowsAbout": [
          "Artificial Intelligence",
          "Generative AI",
          "Machine Learning",
          "Distributed Systems",
          "Cloud Architecture",
          "AWS",
          "NVIDIA",
          "Large-Scale Infrastructure",
          "Python",
          "CUDA"
        ]
      }
    </script>
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebSite",
        "name": "Samrat Jha Portfolio",
        "url": "https://www.samratjha.com/",
        "description": "Portfolio and technical blog of Samrat Jha, AI engineer at NVIDIA with extensive AWS infrastructure experience",
        "author": {
          "@type": "Person",
          "name": "Samrat Jha"
        }
      }
    </script>

    <script defer="" src="https://umami.techbrohomelab.xyz/script.js" data-website-id="bdbad683-6e04-45f6-a3a6-f09ea3b42f01"></script>
    <script type="module" crossorigin="" src="/assets/index-69a28713.js"></script>
    <link rel="modulepreload" crossorigin="" href="/assets/three-114a71c7.js">
    <link rel="modulepreload" crossorigin="" href="/assets/vendor-616fc9c5.js">
    <link rel="stylesheet" href="/assets/index-3b13bb55.css">
  <link rel="modulepreload" as="script" crossorigin="" href="/assets/YouTube-76040acb.js"><script type="text/javascript" charset="utf8" async="" src="https://www.youtube.com/iframe_api"></script><link rel="modulepreload" as="script" crossorigin="" href="/assets/cloudflare-zero-trust-homelab-02623cda.js"><link rel="canonical" href="https://www.samratjha.com/blog/cloudflare-zero-trust-homelab/" data-rh="true"><meta name="title" content="Protecting Homelab Apps with Cloudflare Zero Trust Access | Samrat Jha" data-rh="true"><meta name="description" content="Add email-based authentication to any self-hosted app using Cloudflare Tunnels and Zero Trust Access. No code changes, no accounts to manage, free tier." data-rh="true"><meta name="author" content="Samrat Jha" data-rh="true"><meta name="keywords" content="cloudflare, homelab, security, zero-trust, self-hosting" data-rh="true"><meta property="og:type" content="article" data-rh="true"><meta property="og:url" content="https://www.samratjha.com/blog/cloudflare-zero-trust-homelab/" data-rh="true"><meta property="og:title" content="Protecting Homelab Apps with Cloudflare Zero Trust Access" data-rh="true"><meta property="og:description" content="Add email-based authentication to any self-hosted app using Cloudflare Tunnels and Zero Trust Access. No code changes, no accounts to manage, free tier." data-rh="true"><meta property="og:site_name" content="Samrat Jha" data-rh="true"><meta property="article:published_time" content="2026-02-16T00:00:00.000Z" data-rh="true"><meta property="article:author" content="https://www.samratjha.com/" data-rh="true"><meta property="article:tag" content="cloudflare" data-rh="true"><meta property="article:tag" content="homelab" data-rh="true"><meta property="article:tag" content="security" data-rh="true"><meta property="article:tag" content="zero-trust" data-rh="true"><meta property="article:tag" content="self-hosting" data-rh="true"><meta name="twitter:card" content="summary" data-rh="true"><meta name="twitter:url" content="https://www.samratjha.com/blog/cloudflare-zero-trust-homelab/" data-rh="true"><meta name="twitter:title" content="Protecting Homelab Apps with Cloudflare Zero Trust Access" data-rh="true"><meta name="twitter:description" content="Add email-based authentication to any self-hosted app using Cloudflare Tunnels and Zero Trust Access. No code changes, no accounts to manage, free tier." data-rh="true"><script type="application/ld+json" data-rh="true">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Protecting Homelab Apps with Cloudflare Zero Trust Access","description":"Add email-based authentication to any self-hosted app using Cloudflare Tunnels and Zero Trust Access. No code changes, no accounts to manage, free tier.","datePublished":"2026-02-16T00:00:00.000Z","dateModified":"2026-02-16T00:00:00.000Z","author":{"@type":"Person","name":"Samrat Jha","url":"https://www.samratjha.com/","jobTitle":"Senior AI Engineer"},"publisher":{"@type":"Person","name":"Samrat Jha","url":"https://www.samratjha.com/"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.samratjha.com/blog/cloudflare-zero-trust-homelab/"},"keywords":"cloudflare, homelab, security, zero-trust, self-hosting"}</script><script type="application/ld+json" data-rh="true">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://www.samratjha.com/"},{"@type":"ListItem","position":2,"name":"Blog","item":"https://www.samratjha.com/blog/"},{"@type":"ListItem","position":3,"name":"Protecting Homelab Apps with Cloudflare Zero Trust Access","item":"https://www.samratjha.com/blog/cloudflare-zero-trust-homelab/"}]}</script></head>
  <body>
    <!-- Noscript fallback for SEO crawlers -->
    <noscript>
      <div
        style="
          padding: 2rem;
          max-width: 800px;
          margin: 0 auto;
          font-family: system-ui, sans-serif;
        "
      >
        <h1>Samrat Jha - AI Engineer & Infrastructure Architect</h1>
        <p>
          Building the future of AI at NVIDIA, backed by 7+ years architecting
          large-scale distributed systems at AWS.
        </p>

        <h2>About</h2>
        <p>
          I'm an AI engineer at NVIDIA, building at the frontier of artificial
          intelligence. Before this, I spent 7+ years at AWS architecting
          large-scale distributed systems—from edge computing infrastructure
          powering hybrid cloud, to Generative AI applications accelerating
          region launches, to event pipelines handling millions of requests. I
          bring deep infrastructure expertise to AI.
        </p>

        <h2>Experience</h2>
        <ul>
          <li>
            <strong>AI Engineer @ NVIDIA</strong> (2024 - Present) - Building at
            the frontier of artificial intelligence
          </li>
          <li>
            <strong>Software Engineer @ AWS Region Expansion</strong> (2024) -
            Built Generative AI applications to accelerate AWS region launches
          </li>
          <li>
            <strong>Software Engineer @ AWS Outposts</strong> (2022 - 2024) -
            Architected edge computing infrastructure powering hybrid cloud at
            scale
          </li>
          <li>
            <strong>Senior Software Engineer @ Appian</strong> (2021 - 2022) -
            Led cross-continental integration, implemented Robotic Process
            Automation
          </li>
          <li>
            <strong>Software Engineer @ Appian</strong> (2018 - 2021) - Built
            low-latency event pipelines, managed AWS fleet for 100+ engineers
          </li>
        </ul>

        <h2>Projects</h2>
        <ul>
          <li>
            <a href="https://space-selfie.zasamrat.workers.dev">Space Selfie</a>
            - Discover when the ISS flew over your special moments
          </li>
          <li>
            <a href="https://bird-radio.pages.dev/">Bird Radio</a> -
            Retro-styled nature sound tuner with bird songs from around the
            world
          </li>
          <li>
            <a href="https://argos.techbrohomelab.xyz/">NetWorth Tracker</a> -
            Personal finance application built with React and TypeScript
          </li>
        </ul>

        <h2>Skills</h2>
        <p>
          Artificial Intelligence, Generative AI, CUDA, AWS, Distributed
          Systems, Python, Rust, Golang, TypeScript, Docker
        </p>

        <h2>Contact</h2>
        <p>
          Visit <a href="https://www.samratjha.com/">samratjha.com</a> with
          JavaScript enabled for the full interactive experience, or reach out
          via <a href="https://github.com/samratjha96">GitHub</a>.
        </p>

        <p>
          <a href="/blog/">Read my blog</a> for technical deep-dives on AI,
          infrastructure, and software engineering.
        </p>

        <img
          src="/personalLogo.png"
          alt="Samrat Jha - AI Engineer at NVIDIA"
          width="200"
          height="200"
        />
      </div>
    </noscript>
    <div id="root"><div class="relative z-0 bg-primary"><nav class="sm:px-16 px-6 w-full flex items-center py-5 fixed top-0 z-20 bg-transparent
    "><div class="w-full flex justify-between items-center max-w-7xl mx-auto"><a class="flex items-center gap-2" href="/"><img src="/personalLogo.png" alt="logo" class="w-9 h-9 object-contain"><p class="text-white text-[18px] font-bold cursor-pointer flex">Samrat &nbsp;<span class="hidden sm:block">| Portfolio</span></p></a><ul class="list-none hidden sm:flex flex-row gap-10"><li class="text-secondary hover:text-white text-[18px] font-medium cursor-pointer"><a href="/#about">About</a></li><li class="text-secondary hover:text-white text-[18px] font-medium cursor-pointer"><a href="/#work">Work</a></li><li class="text-secondary hover:text-white text-[18px] font-medium cursor-pointer"><a href="/#media">Media</a></li><li class="text-secondary hover:text-white text-[18px] font-medium cursor-pointer"><a href="/#contact">Contact</a></li><li class="text-secondary hover:text-white text-[18px] font-medium cursor-pointer"><a href="/blog/">Blog</a></li><li class="text-secondary hover:text-white text-[18px] font-medium cursor-pointer"><a href="/#ai">AI Consulting</a></li></ul><div class="sm:hidden flex flex-1 justify-end items-center"><img src="/assets/menu-242d80a8.svg" alt="menu" class="w-[28px] h-[28px] object-contain cursor-pointer"><div class="hidden p-6 black-gradient absolute top-20 right-0 mx-4 my-2 min-w-[140px] z-10 rounded-xl"><ul class="list-none flex justify-end items-start flex-col gap-4"><li class="text-secondary font-poppins font-medium cursor-pointer text-[16px]"><a href="/#about">About</a></li><li class="text-secondary font-poppins font-medium cursor-pointer text-[16px]"><a href="/#work">Work</a></li><li class="text-secondary font-poppins font-medium cursor-pointer text-[16px]"><a href="/#media">Media</a></li><li class="text-secondary font-poppins font-medium cursor-pointer text-[16px]"><a href="/#contact">Contact</a></li><li class="text-secondary font-poppins font-medium cursor-pointer text-[16px]"><a href="/blog/">Blog</a></li><li class="text-secondary font-poppins font-medium cursor-pointer text-[16px]"><a href="/#ai">AI Consulting</a></li></ul></div></div></div></nav><div class="sm:px-16 px-6 sm:py-16 py-10 max-w-7xl mx-auto relative z-0 mt-20"><div class="mb-16"><h1 class="text-white font-black md:text-[60px] sm:text-[50px] xs:text-[40px] text-[30px] mb-6">Protecting Homelab Apps with Cloudflare Zero Trust Access</h1><div class="prose prose-invert prose-lg prose-headings:text-white prose-headings:font-bold prose-h1:text-4xl prose-h2:text-3xl prose-h2:mt-8 prose-h3:text-2xl prose-p:text-gray-300 prose-a:text-[#915eff] prose-strong:text-white prose-code:bg-tertiary prose-code:text-white prose-code:p-1 prose-code:rounded-md prose-pre:bg-transparent prose-pre:p-0 prose-pre:overflow-x-auto prose-li:text-gray-300 max-w-none [&amp;_code::before]:content-none [&amp;_code::after]:content-none"><div><div class="mb-6"><p class="text-secondary">2026-02-16</p><div class="flex flex-wrap gap-2 mt-2"><span class="text-xs bg-[#915eff]/20 text-[#dfd9ff] px-2 py-1 rounded-full">#cloudflare</span><span class="text-xs bg-[#915eff]/20 text-[#dfd9ff] px-2 py-1 rounded-full">#homelab</span><span class="text-xs bg-[#915eff]/20 text-[#dfd9ff] px-2 py-1 rounded-full">#security</span><span class="text-xs bg-[#915eff]/20 text-[#dfd9ff] px-2 py-1 rounded-full">#zero-trust</span><span class="text-xs bg-[#915eff]/20 text-[#dfd9ff] px-2 py-1 rounded-full">#self-hosting</span></div></div><article class="prose prose-invert prose-lg max-w-none blog-post-content"><p>I run a bunch of apps on a VPS, all exposed through Cloudflare Tunnels. The problem: some of those apps have no auth, or auth that's annoying to set up (OAuth apps, API keys, invite flows). I wanted something simpler: if you're on my list, you get in. If not, you don't.</p>
<p>Cloudflare Zero Trust Access does exactly this, and it sits in front of your tunnel so your app never even sees unauthorized traffic.</p>
<h2 id="the-setup"><a aria-hidden="true" tabindex="-1" href="#the-setup"><span class="icon icon-link"></span></a>The setup</h2>
<p>I had a self-hosted chat app running on port 8400 behind a Cloudflare Tunnel. The app itself has OpenID Connect support, but that means everyone needs an account with the OIDC provider. My family doesn't have those.</p>
<p>The existing tunnel config already had a public hostname pointing <code>chat.example.com</code> to <code>localhost:8400</code>. Traffic was flowing, just unprotected.</p>
<h2 id="adding-zero-trust-access"><a aria-hidden="true" tabindex="-1" href="#adding-zero-trust-access"><span class="icon icon-link"></span></a>Adding Zero Trust Access</h2>
<p>Go to <a href="https://one.dash.cloudflare.com">one.dash.cloudflare.com</a> → Access → Applications → Add an application.</p>
<p>Pick <strong>Self-hosted</strong>, set the domain to your public hostname:</p>
<pre><code>Application domain: chat.example.com
</code></pre>
<p>Then create a policy:</p>
<ul>
<li><strong>Policy name:</strong> whatever you want</li>
<li><strong>Action:</strong> Allow</li>
<li><strong>Selector:</strong> Emails</li>
<li><strong>Value:</strong> add each email you want to allow</li>
</ul>
<p>That's it on the Cloudflare side.</p>
<h2 id="how-it-works"><a aria-hidden="true" tabindex="-1" href="#how-it-works"><span class="icon icon-link"></span></a>How it works</h2>
<img src="/assets/cloudflare-zero-trust-diagram-26eea4d2.webp" alt="Cloudflare Zero Trust Access flow diagram showing user request intercepted at Cloudflare edge with email login, then tunneled to homelab server" width="900" height="491" loading="lazy">
<h2 id="what-happens-now"><a aria-hidden="true" tabindex="-1" href="#what-happens-now"><span class="icon icon-link"></span></a>What happens now</h2>
<p>When someone hits <code>chat.example.com</code>, Cloudflare intercepts the request <em>before</em> it reaches your server. They see a login page, enter their email, get a one-time PIN, enter it, and they're through. Cloudflare sets a <code>CF_Authorization</code> cookie and passes the request to your app.</p>
<p>The request flow looks like:</p>
<pre><code>User → Cloudflare Edge → Access check → Tunnel → localhost:8400
                           ↓
                    (not on the list? blocked here)
</code></pre>
<p>Your app sees nothing. No auth headers to parse, no middleware to add, no OAuth dance. The app can run completely open because Cloudflare handles the gate.</p>
<h2 id="disabling-app-level-auth"><a aria-hidden="true" tabindex="-1" href="#disabling-app-level-auth"><span class="icon icon-link"></span></a>Disabling app-level auth</h2>
<p>Since Cloudflare handles auth, you can strip out whatever login your app ships with — OIDC, OAuth, magic links, whatever. One gotcha: if the app's Docker image has auth defaults baked in, deleting the lines from your env override file won't actually disable them. The image defaults kick back in. You need to explicitly set every auth-related variable to an empty string so the app treats them as "not configured."</p>
<h2 id="session-management"><a aria-hidden="true" tabindex="-1" href="#session-management"><span class="icon icon-link"></span></a>Session management</h2>
<p>Sessions last as long as you configure in the Access application settings. Users can log out by visiting:</p>
<pre><code>https://chat.example.com/cdn-cgi/access/logout
</code></pre>
<p>You can revoke sessions from the Zero Trust dashboard under Logs → Access Requests.</p>
<h2 id="gotchas"><a aria-hidden="true" tabindex="-1" href="#gotchas"><span class="icon icon-link"></span></a>Gotchas</h2>
<p><strong>Cookie settings</strong></p>
<p>If you had <code>COOKIE_SECURE=true</code> set for your app's own auth, keep it. Cloudflare terminates TLS at the edge, so the cookie still needs the secure flag when traveling between the browser and Cloudflare.</p>
<p><strong>This works for any app</strong></p>
<p>The nice thing about this approach is it's app-agnostic. I could put the same Access policy in front of any service behind my tunnel: Stirling PDF, Pocketbase, whatever. No code changes to any of them.</p>
<h2 id="cost"><a aria-hidden="true" tabindex="-1" href="#cost"><span class="icon icon-link"></span></a>Cost</h2>
<p>Free. Cloudflare Zero Trust includes 50 users on the free tier. For a homelab shared with family and friends, that's more than enough.</p>
<hr>
<p>Cloudflare Tunnels: <a href="https://developers.cloudflare.com/cloudflare-one/connections/connect-networks/">developers.cloudflare.com/cloudflare-one/connections/connect-networks</a></p>
<p>Zero Trust Access: <a href="https://developers.cloudflare.com/cloudflare-one/policies/access/">developers.cloudflare.com/cloudflare-one/policies/access</a></p></article></div></div></div><div class="mt-12 pt-8 border-t border-gray-800"><button class="flex items-center text-white font-medium mb-4 hover:text-[#915eff] transition-colors duration-300"><span class="mr-2">►</span><h3 class="font-bold text-xl">Recent Posts</h3></button></div></div></div></div>
    
  

</body></html>